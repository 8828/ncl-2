#
#
#	Makefile for libcgm -- CGM tools library for low level CGM operations
#
#

MYNAME		= libcgm.a

INCLUDES	= cgm_tools.h cgmdef.h 
SRCS		= cgm_tools.c meta_edit.c misc.c mem_file.c name.c
OBJECTS		= cgm_tools.o meta_edit.o misc.o mem_file.o name.o

EXTRA_DEFINES	= -DNGTMPDIR='"$(NGTMPDIR)"'

LibraryTarget($(MYNAME),$(OBJECTS))
BuildIncludes($(INCLUDES),ncarg,..)
DependTarget($(SRCS))
InstallTarget($(INCLUDES), $(INSTALL_INC), $(NCARGINCPATH))

lint:
	$(LINT) $(CINC) $(SRCS) \
	-DNGTMPDIR$(EQUALHACK)'"$(NGTMPDIR)"' \
	1> lint.out 2>&1

cgm_tools.o:	cgmP.h


cgmP.h: cgmP.h.sed Makefile
	@sed \
	-e 's+SED_GKS_BUFFER_SIZE+$(GKS_BUFFER_SIZE)+' \
	< cgmP.h.sed > cgmP.h
