#
#      $Id: yMakefile,v 1.18 1994-07-13 23:14:32 boote Exp $
#
#########################################################################
#									#
#			   Copyright (C)  1993				#
#	     University Corporation for Atmospheric Research		#
#			   All Rights Reserved				#
#									#
#########################################################################
#
#	File:		yMakefile
#
#	Author:		Jeff W. Boote
#			National Center for Atmospheric Research
#			PO 3000, Boulder, Colorado
#
#	Date:		Tue Apr 27 15:05:52 MDT 1993
#
#	Description:	yMakefile for ncarg/ni/src/lib/hlu
MYNAME		= libhlu.a

EXTRA_CDEFINES	=	$(OS_DEF)

HDRS		= Base.h BaseP.h Convert.h ConvertP.h ConvertersP.h\
		CoordApprox.h Error.h ErrorP.h IrregularTransObj.h \
		IrregularTransObjP.h IrregularType2TransObj.h \
		IrregularType2TransObjP.h LogLinTransObj.h LogLinTransObjP.h \
		MapTransObj.h MapTransObjP.h MultiText.h MultiTextP.h \
		NcgmWorkstation.h NcgmWorkstationP.h NresDB.h ResourcesP.h \
		Segments.h TextItem.h TextItemP.h TickMark.h TickMarkP.h \
		Title.h TitleP.h TransObj.h TransObjI.h TransObjP.h \
		Transform.h TransformP.h VarArg.h View.h ViewI.h ViewP.h \
		Workstation.h WorkstationI.h WorkstationP.h XWorkstation.h \
		XWorkstationP.h XyPlot.h XyPlotP.h defs.h hlu.h hluP.h \
		DataComm.h DataCommP.h DataCommF.h DataItem.h DataItemP.h \
		DataMgr.h DataMgrF.h DataMgrP.h Legend.h LegendP.h LabelBar.h \
		LabelBarP.h  CoordArrTable.h CoordArrTableP.h \
		CoordArrTableFloatP.h CoordArrays.h CoordArraysP.h \
		Contour.h ContourP.h Overlay.h OverlayI.h OverlayP.h \
		LogLinPlot.h LogLinPlotP.h IrregularPlot.h IrregularPlotP.h \
		MapPlot.h MapPlotP.h ResList.h ResListP.h Workspace.h \
		WorkspaceI.h WorkspaceP.h FortranP.h ScalarField.h \
		ScalarFieldP.h ScalarFieldFloatP.h Annotation.h AnnotationP.h \
		FormatI.h

CSRCS		= Base.c BoundingBox.c Close.c Convert.c Converters.c \
		Create.c Destroy.c Draw.c Error.c GetValues.c \
		IrregularTransObj.c IrregularType2TransObj.c LogLinTransObj.c \
		MapTransObj.c MultiText.c NcgmWorkstation.c NresDB.c Open.c \
		Quarks.c Reparent.c Resources.c Segments.c SetValues.c \
		SplineCoord.c TextItem.c TickMark.c Title.c Trans.c \
		TransObj.c Transform.c VarArg.c View.c Workstation.c \
		XWorkstation.c hlu.c DataComm.c DataItem.c DataMgr.c \
		Legend.c LabelBar.c CoordArrTable.c CoordArrays.c \
		Contour.c Overlay.c LogLinPlot.c IrregularPlot.c MapPlot.c  \
		XyPlot.c ResList.c Workspace.c Fortran.c Futil.c \
		ScalarField.c Annotation.c Format.c

COBJS		= Base.o BoundingBox.o Close.o Convert.o Converters.o \
		Create.o Destroy.o Draw.o Error.o GetValues.o \
		IrregularTransObj.o IrregularType2TransObj.o LogLinTransObj.o \
		MapTransObj.o MultiText.o NcgmWorkstation.o NresDB.o Open.o \
		Quarks.o Reparent.o Resources.o Segments.o SetValues.o \
		SplineCoord.o TextItem.o TickMark.o Title.o Trans.o \
		TransObj.o Transform.o VarArg.o View.o Workstation.o \
		XWorkstation.o hlu.o DataComm.o DataItem.o DataMgr.o \
		Legend.o LabelBar.o CoordArrTable.o CoordArrays.o \
		Contour.o Overlay.o LogLinPlot.o IrregularPlot.o MapPlot.o \
		XyPlot.o ResList.o Workspace.o Fortran.o Futil.o \
		ScalarField.o Annotation.o Format.o

FSRCS		= DATACOMM.f ERROR.f HLU.f OVERLAY.f RLGEN.f RLSET.f \
		RLGET.f TRANSFORM.f VIEW.f WORKSPACE.f WORKSTATION.f

FOBJS		= DATACOMM.o ERROR.o HLU.o OVERLAY.o RLGEN.o RLSET.o \
		RLGET.o TRANSFORM.o VIEW.o WORKSPACE.o WORKSTATION.o

OBJS		= $(COBJS) $(FOBJS)

LibraryTarget($(MYNAME),$(OBJS))
BuildIncludes($(HDRS),ncarg/hlu,../..)
InstallTarget($(HDRS),$(INSTALL_INC),$(HLUINCPATH))
InstallTarget(hluresfile,$(INSTALL_INC),$(LIBNCARGPATH))
DependTarget($(CSRCS))

/*
 * This isn't used anymore, but I don't want to get ride of it yet.
 * jeff
 */
#if	defined(DEBUG) && defined(SunOS)  && defined(ExpandMacros)

/* This is used to expand the huge macros in this file	*/

CleanFilesTarget(Converters.tmp.o Converters.tmp.c Converters.sed.c)

Converters.o:	Converters.tmp.o
	$(CP) Converters.tmp.o Converters.o

Converters.tmp.c:	Converters.sed.c
	acc -Xc -P Converters.sed.c
	perl -n \
	-e "s%^SED_INC%#include%;" \
	-e "print;" \
	< Converters.sed.i > Converters.tmp.c
	indent Converters.tmp.c

Converters.sed.c:	Converters.c
	perl -n \
	-e "s%^#include%SED_INC%;" \
	-e "print;" \
	< Converters.c > Converters.sed.c
#endif
