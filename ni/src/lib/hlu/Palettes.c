/*
 *      $Id: Palettes.c,v 1.2 1995-04-29 18:53:21 boote Exp $
 */
/************************************************************************
*									*
*			     Copyright (C)  1995			*
*	     University Corporation for Atmospheric Research		*
*			     All Rights Reserved			*
*									*
************************************************************************/
/*
 *	File:		Palettes.c
 *
 *	Author:		Jeff W. Boote
 *			National Center for Atmospheric Research
 *			PO 3000, Boulder, Colorado
 *
 *	Date:		Tue Apr 18 18:34:21 MDT 1995
 *
 *	Description:	
 */
#include <ncarg/hlu/hluP.h>
#include <ncarg/hlu/Workstation.h>
#include <ncarg/hlu/PalettesP.h>
#include <ncarg/hlu/ConvertersP.h>

static NhlColor	cyclic[] = {
	{-1.0,0.0,0.0},	/* white/black */
	{-1.0,0.0,0.0},	/* white/black */
	{1.0,0.0,0.0},	/* red */
	{0.0,1.0,0.0},	/* green */
	{0.0,0.0,1.0},	/* blue */
	{1.0,1.0,0.0},	/* yellow */
	{0.0,1.0,1.0},	/* cyan */
	{1.0,0.0,1.0}	/* magenta */
};

static NhlColor	def[] = {
	{-1.0,0.0,0.0},	/* white/black */
	{-1.0,0.0,0.0},	/* white/black */
	{1.0,0.0,0.0},	/* red */
	{0.0,1.0,0.0},	/* green */
	{0.0,0.0,1.0},	/* blue */
	{1.0,1.0,0.0},	/* yellow */
	{0.0,1.0,1.0},	/* cyan */
	{1.0,0.0,1.0},	/* magenta */
	{0.5,0.0,0.0},
	{0.5,1.0,1.0},
	{0.0,0.0,0.5},
	{1.0,1.0,0.5},
	{0.5,0.0,1.0},
	{1.0,0.5,0.0},
	{0.0,0.5,1.0},
	{0.5,1.0,0.0},
	{0.5,0.0,0.5},
	{0.5,1.0,0.5},
	{1.0,0.5,1.0},
	{0.0,0.5,0.0},
	{0.5,0.5,1.0},
	{1.0,0.0,0.5},
	{0.5,0.5,0.0},
	{0.0,0.5,0.5},
	{1.0,0.5,0.5},
	{0.0,1.0,0.5},
	{0.5,0.5,0.5},
	{0.125,0.125,0.125},
	{0.75,0.75,0.75},
	{0.25,0.25,0.25},
	{0.625,0.625,0.625},
	{0.375,0.375,0.375}
};

static NhlColor	gscyclic[] = {
	{-1.0,0.0,0.0},	/* white/black */
	{-1.0,0.0,0.0},	/* white/black */
	{0.5,0.5,0.5},
	{0.125,0.125,0.125},
	{0.75,0.75,0.75},
	{0.25,0.25,0.25},
	{0.625,0.625,0.625},
	{0.375,0.375,0.375}
};

static NhlColor gsld[] = {
	{0.00000,0.00000,0.00000},
	{1.00000,1.00000,1.00000},
	{0.96875,0.96875,0.96875},
	{0.93750,0.93750,0.93750},
	{0.90625,0.90625,0.90625},
	{0.87500,0.87500,0.87500},
	{0.84375,0.84375,0.84375},
	{0.81250,0.81250,0.81250},
	{0.78125,0.78125,0.78125},
	{0.75000,0.75000,0.75000},
	{0.71875,0.71875,0.71875},
	{0.68750,0.68750,0.68750},
	{0.65625,0.65625,0.65625},
	{0.62500,0.62500,0.62500},
	{0.59375,0.59375,0.59375},
	{0.56250,0.56250,0.56250},
	{0.53125,0.53125,0.53125},
	{0.50000,0.50000,0.50000},
	{0.46875,0.46875,0.46875},
	{0.43750,0.43750,0.43750},
	{0.40625,0.40625,0.40625},
	{0.37500,0.37500,0.37500},
	{0.34375,0.34375,0.34375},
	{0.31250,0.31250,0.31250},
	{0.28125,0.28125,0.28125},
	{0.25000,0.25000,0.25000},
	{0.21875,0.21875,0.21875},
	{0.18750,0.18750,0.18750},
	{0.15625,0.15625,0.15625},
	{0.12500,0.12500,0.12500},
	{0.09375,0.09375,0.09375},
	{0.06250,0.06250,0.06250},
	{0.03125,0.03125,0.03125}
};

static NhlColor gsdl[] = {
	{1.00000,1.00000,1.00000},
	{0.00000,0.00000,0.00000},
	{0.03125,0.03125,0.03125},
	{0.06250,0.06250,0.06250},
	{0.09375,0.09375,0.09375},
	{0.12500,0.12500,0.12500},
	{0.15625,0.15625,0.15625},
	{0.18750,0.18750,0.18750},
	{0.21875,0.21875,0.21875},
	{0.25000,0.25000,0.25000},
	{0.28125,0.28125,0.28125},
	{0.31250,0.31250,0.31250},
	{0.34375,0.34375,0.34375},
	{0.37500,0.37500,0.37500},
	{0.40625,0.40625,0.40625},
	{0.43750,0.43750,0.43750},
	{0.46875,0.46875,0.46875},
	{0.50000,0.50000,0.50000},
	{0.53125,0.53125,0.53125},
	{0.56250,0.56250,0.56250},
	{0.59375,0.59375,0.59375},
	{0.62500,0.62500,0.62500},
	{0.65625,0.65625,0.65625},
	{0.68750,0.68750,0.68750},
	{0.71875,0.71875,0.71875},
	{0.75000,0.75000,0.75000},
	{0.78125,0.78125,0.78125},
	{0.81250,0.81250,0.81250},
	{0.84375,0.84375,0.84375},
	{0.87500,0.87500,0.87500},
	{0.90625,0.90625,0.90625},
	{0.93750,0.93750,0.93750},
	{0.96875,0.96875,0.96875}
};

static NhlColor uniform[175] = {
	{-1.0,0.0,0.0},	/* white/black */
	{-1.0,0.0,0.0},	/* white/black */
	{0.7500,1.0000,1.0000},
	{0.5000,1.0000,1.0000},
	{0.2500,1.0000,1.0000},
	{0.0000,1.0000,1.0000},
	{1.0000,0.8333,1.0000},
	{0.7500,0.8333,1.0000},
	{0.5000,0.8333,1.0000},
	{0.2500,0.8333,1.0000},
	{0.0000,0.8333,1.0000},
	{1.0000,0.6667,1.0000},
	{0.7500,0.6667,1.0000},
	{0.5000,0.6667,1.0000},
	{0.2500,0.6667,1.0000},
	{0.0000,0.6667,1.0000},
	{1.0000,0.5000,1.0000},
	{0.7500,0.5000,1.0000},
	{0.5000,0.5000,1.0000},
	{0.2500,0.5000,1.0000},
	{0.0000,0.5000,1.0000},
	{1.0000,0.3333,1.0000},
	{0.7500,0.3333,1.0000},
	{0.5000,0.3333,1.0000},
	{0.2500,0.3333,1.0000},
	{0.0000,0.3333,1.0000},
	{1.0000,0.1667,1.0000},
	{0.7500,0.1667,1.0000},
	{0.5000,0.1667,1.0000},
	{0.2500,0.1667,1.0000},
	{0.0000,0.1667,1.0000},
	{1.0000,0.0000,1.0000},
	{0.7500,0.0000,1.0000},
	{0.5000,0.0000,1.0000},
	{0.2500,0.0000,1.0000},
	{0.0000,0.0000,1.0000},
	{1.0000,1.0000,0.2500},
	{0.7500,1.0000,0.2500},
	{0.5000,1.0000,0.2500},
	{0.2500,1.0000,0.2500},
	{0.0000,1.0000,0.2500},
	{1.0000,0.8333,0.2500},
	{0.7500,0.8333,0.2500},
	{0.5000,0.8333,0.2500},
	{0.2500,0.8333,0.2500},
	{0.0000,0.8333,0.2500},
	{1.0000,0.6667,0.2500},
	{0.7500,0.6667,0.2500},
	{0.5000,0.6667,0.2500},
	{0.2500,0.6667,0.2500},
	{0.0000,0.6667,0.2500},
	{1.0000,0.5000,0.2500},
	{0.7500,0.5000,0.2500},
	{0.5000,0.5000,0.2500},
	{0.2500,0.5000,0.2500},
	{0.0000,0.5000,0.2500},
	{1.0000,0.3333,0.2500},
	{0.7500,0.3333,0.2500},
	{0.5000,0.3333,0.2500},
	{0.2500,0.3333,0.2500},
	{0.0000,0.3333,0.2500},
	{1.0000,0.1667,0.2500},
	{0.7500,0.1667,0.2500},
	{0.5000,0.1667,0.2500},
	{0.2500,0.1667,0.2500},
	{0.0000,0.1667,0.2500},
	{1.0000,0.0000,0.2500},
	{0.7500,0.0000,0.2500},
	{0.5000,0.0000,0.2500},
	{0.2500,0.0000,0.2500},
	{0.0000,0.0000,0.2500},
	{1.0000,1.0000,0.5000},
	{0.7500,1.0000,0.5000},
	{0.5000,1.0000,0.5000},
	{0.2500,1.0000,0.5000},
	{0.0000,1.0000,0.5000},
	{1.0000,0.8333,0.5000},
	{0.7500,0.8333,0.5000},
	{0.5000,0.8333,0.5000},
	{0.2500,0.8333,0.5000},
	{0.0000,0.8333,0.5000},
	{1.0000,0.6667,0.5000},
	{0.7500,0.6667,0.5000},
	{0.5000,0.6667,0.5000},
	{0.2500,0.6667,0.5000},
	{0.0000,0.6667,0.5000},
	{1.0000,0.5000,0.5000},
	{0.7500,0.5000,0.5000},
	{0.5000,0.5000,0.5000},
	{0.2500,0.5000,0.5000},
	{0.0000,0.5000,0.5000},
	{1.0000,0.3333,0.5000},
	{0.7500,0.3333,0.5000},
	{0.5000,0.3333,0.5000},
	{0.2500,0.3333,0.5000},
	{0.0000,0.3333,0.5000},
	{1.0000,0.1667,0.5000},
	{0.7500,0.1667,0.5000},
	{0.5000,0.1667,0.5000},
	{0.2500,0.1667,0.5000},
	{0.0000,0.1667,0.5000},
	{1.0000,0.0000,0.5000},
	{0.7500,0.0000,0.5000},
	{0.5000,0.0000,0.5000},
	{0.2500,0.0000,0.5000},
	{0.0000,0.0000,0.5000},
	{1.0000,1.0000,0.7500},
	{0.7500,1.0000,0.7500},
	{0.5000,1.0000,0.7500},
	{0.2500,1.0000,0.7500},
	{0.0000,1.0000,0.7500},
	{1.0000,0.8333,0.7500},
	{0.7500,0.8333,0.7500},
	{0.5000,0.8333,0.7500},
	{0.2500,0.8333,0.7500},
	{0.0000,0.8333,0.7500},
	{1.0000,0.6667,0.7500},
	{0.7500,0.6667,0.7500},
	{0.5000,0.6667,0.7500},
	{0.2500,0.6667,0.7500},
	{0.0000,0.6667,0.7500},
	{1.0000,0.5000,0.7500},
	{0.7500,0.5000,0.7500},
	{0.5000,0.5000,0.7500},
	{0.2500,0.5000,0.7500},
	{0.0000,0.5000,0.7500},
	{1.0000,0.3333,0.7500},
	{0.7500,0.3333,0.7500},
	{0.5000,0.3333,0.7500},
	{0.2500,0.3333,0.7500},
	{0.0000,0.3333,0.7500},
	{1.0000,0.1667,0.7500},
	{0.7500,0.1667,0.7500},
	{0.5000,0.1667,0.7500},
	{0.2500,0.1667,0.7500},
	{0.0000,0.1667,0.7500},
	{1.0000,0.0000,0.7500},
	{0.7500,0.0000,0.7500},
	{0.5000,0.0000,0.7500},
	{0.2500,0.0000,0.7500},
	{0.0000,0.0000,0.7500},
	{1.0000,1.0000,0.0000},
	{0.7500,1.0000,0.0000},
	{0.5000,1.0000,0.0000},
	{0.2500,1.0000,0.0000},
	{0.0000,1.0000,0.0000},
	{1.0000,0.8333,0.0000},
	{0.7500,0.8333,0.0000},
	{0.5000,0.8333,0.0000},
	{0.2500,0.8333,0.0000},
	{0.0000,0.8333,0.0000},
	{1.0000,0.6667,0.0000},
	{0.7500,0.6667,0.0000},
	{0.5000,0.6667,0.0000},
	{0.2500,0.6667,0.0000},
	{0.0000,0.6667,0.0000},
	{1.0000,0.5000,0.0000},
	{0.7500,0.5000,0.0000},
	{0.5000,0.5000,0.0000},
	{0.2500,0.5000,0.0000},
	{0.0000,0.5000,0.0000},
	{1.0000,0.3333,0.0000},
	{0.7500,0.3333,0.0000},
	{0.5000,0.3333,0.0000},
	{0.2500,0.3333,0.0000},
	{0.0000,0.3333,0.0000},
	{1.0000,0.1667,0.0000},
	{0.7500,0.1667,0.0000},
	{0.5000,0.1667,0.0000},
	{0.2500,0.1667,0.0000},
	{0.0000,0.1667,0.0000},
	{1.0000,0.0000,0.0000},
	{0.7500,0.0000,0.0000},
	{0.5000,0.0000,0.0000},
	{0.2500,0.0000,0.0000}
};

static NhlColor temp1[] = {
	{-1.0,0.0,0.0},	/* white/black */
	{-1.0,0.0,0.0},	/* white/black */
        {0.700,0.700,0.700},
        {0.650,0.650,0.700},
        {0.610,0.600,0.700},
        {0.550,0.550,0.700},
        {0.560,0.500,0.700},
        {0.450,0.450,0.700},
        {0.420,0.400,0.700},
        {0.350,0.350,0.700},
        {0.300,0.300,0.700},
        {0.250,0.250,0.700},
        {0.200,0.200,0.700},
        {0.150,0.150,0.700},
        {0.100,0.100,0.700},
        {0.050,0.050,0.700},
        {0.000,0.000,0.700},
        {0.000,0.050,0.700},
        {0.000,0.100,0.700},
        {0.000,0.150,0.700},
        {0.000,0.200,0.700},
        {0.000,0.250,0.700},
        {0.000,0.300,0.700},
        {0.000,0.350,0.700},
        {0.000,0.400,0.700},
        {0.000,0.450,0.600},
        {0.000,0.500,0.500},
        {0.000,0.550,0.400},
        {0.000,0.600,0.300},
        {0.000,0.650,0.200},
        {0.000,0.700,0.100},
        {0.000,0.725,0.000},
        {0.000,0.690,0.000},
        {0.030,0.685,0.000},
        {0.060,0.680,0.000},
        {0.100,0.575,0.000},
        {0.130,0.570,0.000},
        {0.160,0.565,0.000},
        {0.550,0.550,0.000},
        {0.555,0.545,0.000},
        {0.560,0.530,0.000},
        {0.565,0.485,0.000},
        {0.570,0.420,0.000},
        {0.675,0.375,0.000},
        {0.680,0.330,0.000},
        {0.690,0.300,0.000},
        {0.700,0.285,0.000},
        {0.700,0.270,0.000},
        {0.700,0.260,0.000},
        {0.700,0.240,0.000},
        {0.700,0.180,0.000},
        {0.700,0.130,0.000},
        {0.700,0.120,0.000},
        {0.700,0.100,0.000},
        {0.700,0.090,0.000},
        {0.750,0.090,0.000},
        {0.800,0.090,0.000},
        {0.830,0.070,0.000},
        {0.870,0.050,0.000},
        {0.900,0.030,0.000},
        {0.950,0.010,0.000},
        {0.990,0.000,0.000},
        {1.000,0.000,0.000}
};

static NhlColor psgcap[] = {
	{-1.00,0.00,0.00},
	{-1.00,0.00,0.00},
	{1.00,0.00,0.00},
	{0.00,1.00,0.00},
	{0.00,0.00,1.00},
	{0.00,1.00,1.00},
	{1.00,0.00,0.83},
	{1.00,1.00,0.00},
	{1.00,0.50,0.00},
	{0.60,0.83,0.00},
	{0.00,1.00,0.60},
	{0.00,0.50,1.00},
	{0.55,0.00,0.83},
	{1.00,0.00,0.55},
	{0.33,0.33,0.33},
	{0.67,0.67,0.67},
	{1.00,1.00,0.33},
	{0.75,1.00,0.45},
	{0.45,1.00,0.60},
	{0.17,1.00,0.75},
	{0.25,0.83,0.83},
	{0.50,0.67,0.83},
	{0.75,0.55,0.83},
	{1.00,0.33,0.90},
	{0.67,0.90,0.45},
	{0.40,0.90,0.55},
	{0.17,0.90,0.67},
	{0.17,0.67,0.90},
	{0.17,0.50,1.00},
	{0.45,0.33,1.00},
	{0.75,0.17,1.00},
	{0.90,0.09,1.00},
	{0.83,1.00,0.17},
	{0.67,1.00,0.25},
	{0.45,1.00,0.33},
	{0.17,1.00,0.50},
	{0.17,0.83,0.60},
	{0.17,0.67,0.75},
	{0.17,0.55,0.83},
	{0.25,0.45,0.90},
	{0.40,0.33,0.90},
	{0.67,0.17,0.90},
	{0.83,0.17,0.83},
	{0.90,0.33,0.67},
	{0.83,0.45,0.60},
	{0.83,0.60,0.50},
	{0.90,0.67,0.40},
	{0.90,0.67,0.25},
	{1.00,0.90,0.09},
	{0.83,1.00,0.09},
	{0.60,1.00,0.17},
	{0.45,1.00,0.25},
	{0.17,0.90,0.45},
	{0.17,0.83,0.55},
	{0.17,0.67,0.67},
	{0.17,0.55,0.75},
	{0.17,0.40,0.90},
	{0.40,0.25,0.90},
	{0.55,0.17,0.90},
	{0.83,0.17,0.75},
	{1.00,0.17,0.67},
	{1.00,0.25,0.60},
	{1.00,0.40,0.50},
	{1.00,0.50,0.40},
	{1.00,0.83,0.09},
	{0.75,1.00,0.00},
	{0.60,1.00,0.13},
	{0.40,1.00,0.17},
	{0.13,1.00,0.33},
	{0.13,0.83,0.45},
	{0.17,0.75,0.50},
	{0.13,0.60,0.67},
	{0.13,0.50,0.75},
	{0.13,0.40,0.83},
	{0.17,0.25,0.90},
	{0.17,0.17,1.00},
	{0.33,0.09,1.00},
	{0.55,0.09,0.90},
	{0.75,0.00,0.83},
	{0.90,0.00,0.75},
	{0.90,0.75,0.09},
	{0.67,0.90,0.09},
	{0.55,0.90,0.13},
	{0.25,0.90,0.25},
	{0.13,0.90,0.33},
	{0.17,0.75,0.40},
	{0.13,0.67,0.50},
	{0.13,0.55,0.60},
	{0.13,0.45,0.67},
	{0.17,0.33,0.75},
	{0.17,0.25,0.83},
	{0.33,0.17,0.83},
	{0.55,0.13,0.75},
	{0.75,0.13,0.67},
	{0.90,0.17,0.55},
	{0.83,0.25,0.50},
	{0.83,0.75,0.00},
	{0.60,0.83,0.09},
	{0.45,0.90,0.09},
	{0.33,0.90,0.13},
	{0.13,0.90,0.25},
	{0.17,0.83,0.25},
	{0.17,0.75,0.33},
	{0.17,0.60,0.45},
	{0.13,0.50,0.55},
	{0.13,0.45,0.60},
	{0.17,0.33,0.67},
	{0.33,0.25,0.67},
	{0.45,0.25,0.60},
	{0.67,0.25,0.50},
	{0.83,0.25,0.40},
	{1.00,0.25,0.33},
	{0.75,0.67,0.00},
	{0.55,0.75,0.09},
	{0.40,0.83,0.09},
	{0.25,0.90,0.09},
	{0.17,0.90,0.13},
	{0.17,0.83,0.17},
	{0.13,0.75,0.25},
	{0.13,0.67,0.33},
	{0.13,0.60,0.40},
	{0.13,0.45,0.50},
	{0.13,0.40,0.55},
	{0.25,0.33,0.55},
	{0.45,0.33,0.45},
	{0.55,0.33,0.40},
	{0.67,0.33,0.33},
	{0.83,0.33,0.25},
	{0.67,0.60,0.00},
	{0.50,0.67,0.09},
	{0.40,0.67,0.13},
	{0.25,0.67,0.17},
	{0.13,0.67,0.25},
	{0.09,0.60,0.33},
	{0.09,0.50,0.40},
	{0.13,0.40,0.45},
	{0.13,0.33,0.50},
	{0.09,0.17,0.67},
	{0.17,0.13,0.67},
	{0.40,0.13,0.55},
	{0.50,0.13,0.50},
	{0.60,0.13,0.45},
	{0.75,0.13,0.40},
	{0.90,0.13,0.33},
	{0.55,0.50,0.09},
	{0.45,0.60,0.09},
	{0.33,0.60,0.13},
	{0.17,0.60,0.17},
	{0.09,0.55,0.25},
	{0.13,0.45,0.33},
	{0.09,0.40,0.40},
	{0.17,0.33,0.40},
	{0.17,0.25,0.45},
	{0.25,0.17,0.50},
	{0.25,0.13,0.55},
	{0.33,0.13,0.50},
	{0.45,0.13,0.45},
	{0.55,0.13,0.40},
	{0.67,0.13,0.33},
	{0.83,0.13,0.25},
	{0.50,0.45,0.09},
	{0.40,0.50,0.09},
	{0.33,0.60,0.00},
	{0.17,0.60,0.09},
	{0.13,0.67,0.09},
	{0.13,0.60,0.13},
	{0.13,0.50,0.17},
	{0.09,0.45,0.25},
	{0.13,0.40,0.25},
	{0.13,0.33,0.33},
	{0.09,0.25,0.40},
	{0.09,0.17,0.50},
	{0.09,0.13,0.55},
	{0.13,0.00,0.60},
	{0.33,0.00,0.50},
	{0.50,0.00,0.40},
	{0.75,0.33,0.00},
	{0.67,0.40,0.00},
	{0.55,0.40,0.09},
	{0.33,0.40,0.17},
	{0.25,0.33,0.25},
	{0.25,0.25,0.33},
	{0.25,0.17,0.40},
	{0.33,0.13,0.40},
	{0.50,0.13,0.33},
	{0.60,0.13,0.25},
	{0.75,0.09,0.25},
	{0.83,0.00,0.25},
	{1.00,0.00,0.17},
	{1.00,0.13,0.13},
	{0.90,0.17,0.09},
	{0.83,0.25,0.09},
	{0.60,0.25,0.00},
	{0.45,0.40,0.00},
	{0.25,0.40,0.13},
	{0.25,0.33,0.17},
	{0.17,0.25,0.25},
	{0.17,0.17,0.33},
	{0.25,0.13,0.33},
	{0.33,0.09,0.33},
	{0.50,0.09,0.25},
	{0.67,0.09,0.17},
	{0.83,0.00,0.17},
	{0.90,0.00,0.13},
	{1.00,0.00,0.09},
	{1.00,0.13,0.09},
	{0.83,0.17,0.00},
	{0.75,0.25,0.00},
	{0.50,0.17,0.00},
	{0.40,0.33,0.00},
	{0.13,0.45,0.09},
	{0.09,0.40,0.13},
	{0.09,0.33,0.17},
	{0.09,0.25,0.25},
	{0.13,0.17,0.33},
	{0.17,0.09,0.40},
	{0.25,0.00,0.33},
	{0.45,0.00,0.25},
	{0.60,0.00,0.17},
	{0.75,0.00,0.13},
	{0.83,0.00,0.09},
	{0.75,0.09,0.09},
	{0.67,0.13,0.09},
	{0.60,0.17,0.00},
	{0.40,0.17,0.00},
	{0.17,0.33,0.00},
	{0.09,0.33,0.00},
	{0.09,0.25,0.09},
	{0.09,0.17,0.13},
	{0.09,0.13,0.25},
	{0.09,0.13,0.33},
	{0.09,0.00,0.33},
	{0.13,0.00,0.25},
	{0.17,0.00,0.17},
	{0.33,0.00,0.17},
	{0.33,0.00,0.13},
	{0.40,0.00,0.09},
	{0.45,0.09,0.09},
	{0.45,0.13,0.00},
	{0.17,0.09,0.00},
};

typedef struct _CmapDefs{
	char		*name;
	NhlColor	*cmap;
	int		cmap_size;
	NhlGenArray	gen;
} CmapDefs;

/*
 * List of all pre-defined colormaps.  Eventually, I would like to add
 * a dynamic list, so the user can add thier own cmap's.
 */
static CmapDefs cmaps[] = {
	{"default",	def,		NhlNumber(def),		NULL},
	{"cyclic",	cyclic,		NhlNumber(cyclic),	NULL},
	{"gscyclic",	gscyclic,	NhlNumber(gscyclic),	NULL},
	{"gsltod",	gsld,		NhlNumber(gsld),	NULL},
	{"gsdtol",	gsdl,		NhlNumber(gsdl),	NULL},
	{"uniform",	uniform,	NhlNumber(uniform),	NULL},
	{"temp1",	temp1,		NhlNumber(temp1),	NULL},
	{"psgcap",	psgcap,		NhlNumber(psgcap),	NULL}
};

static NrmQuark	strgenQ = NrmNULLQUARK;
static NrmQuark	fltgenQ = NrmNULLQUARK;
static NrmQuark	scalarQ = NrmNULLQUARK;

/*
 * Function:	NhlCvtStringToCmap
 *
 * Description:	
 *
 * In Args:	
 *
 * Out Args:	
 *
 * Scope:	
 * Returns:	
 * Side Effect:	
 */
static NhlErrorTypes
NhlCvtStringToCmap
#if	NhlNeedProto
(
	NrmValue		*from,
	NrmValue		*to,
	NhlConvertArgList	args,
	int			nargs
)
#else
(from,to,args,nargs)
	NrmValue		*from;
	NrmValue		*to;
	NhlConvertArgList	args;
	int			nargs;
#endif
{
	char		func[]="NhlCvtStringToCmap";
	NhlString	s1 = from->data.strval;
	NhlGenArray	gen;
	NrmValue	val;
	int		i;
	NhlErrorTypes	ret = NhlNOERROR;

	gen = _NhlStringToStringGenArray(s1);
	if(gen){
		val.size = sizeof(NhlGenArray);
		val.data.ptrval = gen;

		return _NhlReConvertData(strgenQ,to->typeQ,&val,to);
	}

	for(i=0;i < NhlNumber(cmaps);i++){
		if(_NhlCmpString(cmaps[i].name,s1) == 0){
			gen = cmaps[i].gen;
			break;
		}
	}

	if(!gen){
		NhlPError(NhlWARNING,NhlEUNKNOWN,
			"%s:Unable to convert string \"%s\" to %s",func,s1,
			NhlTColorMap);
		return NhlFATAL;
	}

	_NhlSetVal(NhlGenArray,sizeof(NhlGenArray),gen);
}

/*
 * Function:	NhlCvtGenArrayToCmap
 *
 * Description:	
 *
 * In Args:	
 *
 * Out Args:	
 *
 * Scope:	
 * Returns:	
 * Side Effect:	
 */
static NhlErrorTypes
NhlCvtGenArrayToCmap
#if	NhlNeedProto
(
	NrmValue		*from,
	NrmValue		*to,
	NhlConvertArgList	args,
	int			nargs
)
#else
(from,to,args,nargs)
	NrmValue		*from;
	NrmValue		*to;
	NhlConvertArgList	args;
	int			nargs;
#endif
{
	char		func[]="NhlCvtGenArrayToCmap";
	NhlGenArray	gen = from->data.ptrval;
	NhlErrorTypes	ret = NhlNOERROR;

	if(!gen){
		_NhlSetVal(NhlGenArray,sizeof(NhlGenArray),gen);
	}

	if((gen->num_dimensions != 2) || (gen->len_dimensions[1] != 3)){
		if((gen->num_elements == 1) &&
			(gen->size <= sizeof(NhlArgVal)) && (gen->size > 0)){
			NrmValue	val;

			memcpy((char*)&val.data,(char*)gen->data,gen->size);
			val.size = gen->size;

			return _NhlReConvertData(gen->typeQ,to->typeQ,&val,to);
		}
		NhlPError(NhlFATAL,NhlEUNKNOWN,
			"%s:From array has wrong dimensionality",func);
		return NhlFATAL;
	}

	if(gen->typeQ == fltgenQ){
		_NhlSetVal(NhlGenArray,sizeof(NhlGenArray),gen);
	}

	return _NhlReConvertData(from->typeQ,fltgenQ,from,to);
}

/*
 * Function:	_NhlInitPalettes
 *
 * Description:	
 *
 * In Args:	
 *
 * Out Args:	
 *
 * Scope:	
 * Returns:	
 * Side Effect:	
 */
NhlErrorTypes
_NhlInitPalettes
#if	NhlNeedProto
(
	void
)
#else
()
#endif
{
	char	func[]="_NhlInitPalettes";
	int	dimlen[2] = {0,3};
	int	i;

	/*
	 * Initialize GenArray's for each of the colormaps
	 */
	for(i=0; i < NhlNumber(cmaps);i++){
		dimlen[0] = cmaps[i].cmap_size;
		cmaps[i].gen = _NhlCreateGenArray(cmaps[i].cmap,
					NhlTFloat,sizeof(float),2,dimlen,False);
		if(!cmaps[i].gen){
			NHLPERROR((NhlWARNING,ENOMEM,
				"%s:Unable to initialze color palettes",func));
			return NhlWARNING;
		}
	}

	(void)_NhlRegisterTypes(NhlTFloatGenArray,NhlTColorMap,NULL);

	(void)_NhlRegSymConv(NhlTQuarkGenArray,NhlTColorMap,
						NhlTQuarkGenArray,NhlTGenArray);
	(void)NhlRegisterConverter(NhlTString,NhlTColorMap,
					NhlCvtStringToCmap,NULL,0,False,NULL);
	(void)_NhlRegSymConv(NhlTQuark,NhlTColorMap,NhlTQuark,NhlTScalar);
	(void)NhlRegisterConverter(NhlTGenArray,NhlTColorMap,
					NhlCvtGenArrayToCmap,NULL,0,False,NULL);

	strgenQ = NrmStringToQuark(NhlTStringGenArray);
	fltgenQ = NrmStringToQuark(NhlTFloatGenArray);
	scalarQ = NrmStringToQuark(NhlTScalar);

	return NhlNOERROR;
}
