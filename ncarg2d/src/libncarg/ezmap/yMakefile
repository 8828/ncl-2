#
#	$Id: yMakefile,v 1.4 1992-09-24 19:45:23 ncargd Exp $
#
NCARG	= ../../../..

MYNAME	= ezmap

GENERIC_SRCS = \
	idictl.f mapbd.f mapcem.f mapchi.f mapdrw.f mapeod.f mapfst.f mapgci.f \
	mapgrd.f mapgtc.f mapgti.f mapgtl.f mapgtr.f mapin2.f mapint.f mapio.f \
	mapiq.f mapit.f maplbl.f maplmb.f maplot.f mappos.f maproj.f maprs.f \
	maprst.f mapsav.f mapset.f mapstc.f mapsti.f mapstl.f mapstr.f maptra.f \
	maptre.f maptri.f maptrn.f maptrp.f mapusr.f mapvec.f mapvp.f mpgetc.f \
	mpgeti.f mpgetl.f mpgetr.f mpsetc.f mpseti.f mpsetl.f mpsetr.f supcon.f \
	supmap.f

GENERIC_OBJS = \
	idictl.o mapbd.o mapcem.o mapchi.o mapdrw.o mapeod.o mapfst.o mapgci.o \
	mapgrd.o mapgtc.o mapgti.o mapgtl.o mapgtr.o mapin2.o mapint.o mapio.o \
	mapiq.o mapit.o maplbl.o maplmb.o maplot.o mappos.o maproj.o maprs.o \
	maprst.o mapsav.o mapset.o mapstc.o mapsti.o mapstl.o mapstr.o maptra.o \
	maptre.o maptri.o maptrn.o maptrp.o mapusr.o mapvec.o mapvp.o mpgetc.o \
	mpgeti.o mpgetl.o mpgetr.o mpsetc.o mpseti.o mpsetl.o mpsetr.o supcon.o \
	supmap.o

UNIX_SRCS = openmp.f

UNIX_OBJS = openmp.o

SOURCES = $(GENERIC_SRCS) $(UNIX_SRCS)

OBJECTS	= $(GENERIC_OBJS) $(UNIX_OBJS)

FCPP_OBJS	= openmp.f

PartialLibrary(libncarg.a,$(OBJECTS))

openmp.F: openmp.F.sed Makefile
	@sed \
	-e 's+SED_DBDIR+$(DBDIR)+' \
	<openmp.F.sed >openmp.F

#if defined(sgi) || defined(ardent) || (defined(u370) && defined(unix)) \
	|| defined(RS6000) || defined(hpux) || defined(cray) || defined(CRAY2)

.SUFFIXES: .F

.F.o:
	@$(FCPP) $< $*.f
	$(F77) $(FFLAGS) -c $*.f
	@$(RM) $*.f
#endif

clean::
	@-$(RM) openmp.f

#ifdef  BuildNCARGSourceLibrary
all:: $(SOURCES)
	@echo "$(SOURCES)" > $(MYNAME)
	@$(AR_SRC_QUICK) $(LIBPATH)/srcncarg.a $(MYNAME) $(SOURCES)
	@-$(RM) $(MYNAME)

install:: $(SOURCES)
	@echo "$(SOURCES)" > $(MYNAME)
	@$(AR_SRC_CHECK) $(LIBPATH)/srcncarg.a $(MYNAME) $(SOURCES)
	$(RANLIB) $(LIBPATH)/srcncarg.a
	@-$(RM) $(MYNAME)

FRule
#endif

clean::
	@-$(RM) $(FCPP_OBJS)
