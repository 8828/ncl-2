#
#       $Id: yMakefile,v 1.12 1999-07-29 23:06:09 kennison Exp $
#

DBFILES = EzmapAreaInfo.CO EzmapAreaInfo.PO EzmapAreaInfo.PS EzmapAreaInfo.US \
	  EzmapOutlines.CO EzmapOutlines.PO EzmapOutlines.PS EzmapOutlines.US \
	  ezmapdata ezmap_area_ids Earth..1.areas Earth..1.lines Earth..1.names \
	  Earth..2.areas Earth..2.lines Earth..2.names

PROG_LIBS	=	$(NCARGCLIB)
DEPLIBS		=	$(DEPNCARGCLIB)

InstallTarget($(DBFILES),$(INSTALL_DB),$(DBPATH))

CleanFilesTarget(ConvertMapData EzmapOutlines.CO EzmapOutlines.PO \
		 EzmapOutlines.PS EzmapOutlines.US ezmapdata \
		 WriteLineFile Earth..1.lines Earth..2.lines \
		 WriteNameFile Earth..1.names Earth..2.names)

FNotInstalledTarget(mapconvrt,mapconvrt.o)

FortranProgram(ConvertMapData,ConvertMapData.o,$(DEPLIBS))

FortranProgram(WriteLineFile,WriteLineFile.o,$(DEPLIBS))
FortranProgram(WriteNameFile,WriteNameFile.o,$(DEPLIBS))

ezmapdata: ezmapdat mapconvrt
	-@$(RM) ezmapdata
	@echo "Building the EZMAP database"
	@./mapconvrt

EzmapOutlines.CO: ezmapdat ConvertMapData
	-@$(RM) EzmapOutlines.CO
	@echo "Building the EZMAP database"
	@./ConvertMapData

EzmapOutlines.PO: ezmapdat ConvertMapData
	-@$(RM) EzmapOutlines.PO
	@echo "Building the EZMAP database"
	@./ConvertMapData

EzmapOutlines.PS: ezmapdat ConvertMapData
	-@$(RM) EzmapOutlines.PS
	@echo "Building the EZMAP database"
	@./ConvertMapData

EzmapOutlines.US: ezmapdat ConvertMapData
	-@$(RM) EzmapOutlines.US
	@echo "Building the EZMAP database"
	@./ConvertMapData

Earth..1.lines: Earth..1 WriteLineFile
	-@$(RM) Earth..1.lines
	@echo "Building the new Ezmap line file"
	@echo Earth..1 | ./WriteLineFile

Earth..1.names: Earth..1 WriteNameFile
	-@$(RM) Earth..1.names
	@echo "Building the new Ezmap name file"
	@echo Earth..1 | ./WriteNameFile

Earth..2.lines: Earth..2 WriteLineFile
	-@$(RM) Earth..2.lines
	@echo "Building the new Ezmap line file"
	@echo Earth..2 | ./WriteLineFile

Earth..2.names: Earth..2 WriteNameFile
	-@$(RM) Earth..2.names
	@echo "Building the new Ezmap name file"
	@echo Earth..2 | ./WriteNameFile
